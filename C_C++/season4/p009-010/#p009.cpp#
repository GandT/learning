

//通常include
#include <iostream>
#include <float.h>

//Linux用include
#include <sys/time.h>

#if 0
  //時間構造体
  struct　timeval　{
    long　tv_sec;
    long　tv_usec;
  };
#endif


//現在時刻をdouble型で返す
double getnowtime() {
  //現在時刻情報を受け取る
  struct timeval tp[1];
  gettimeofday(tp, NULL);   //第二引数は必ずNULL

  //double型で現在時刻を返す
  return tp->tv_sec + tp->tv_usec * 0.000001;
}


int main() {
  //起動時時刻を受け取る
  double t = getnowtime();

  while (1) {
    int t2 = getnowtime();
    t'と, 最後に見た現在時刻(t)を比べる;
    tとt'の差が非常に小さければ, 自分はtからt'までCPUが割り当てられていた,
    そうでなければ, tからt'まで自分は走っていなかった
    (CPUが他のスレッドに割り当てられていた)と考える;
    t = t';
  }
  CPUが自分に割り当てられていたと考えられる時間帯を表示する;
}